var body=document.querySelector("body");if(body.classList.contains("index__page")){var writeUsLink=document.querySelector(".map-section__link"),writeUsPopup=document.querySelector(".write-us"),writeUsClose=writeUsPopup.querySelector(".modal-close"),writeUsForm=writeUsPopup.querySelector(".write-us__form"),writeUsName=writeUsPopup.querySelector(".write-us__user-name"),writeUsEmail=writeUsPopup.querySelector(".write-us__user-email"),writeUsMessage=writeUsPopup.querySelector(".write-us__user-message"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("login"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}writeUsLink.addEventListener("click",function(e){e.preventDefault(),writeUsPopup.classList.add("modal_show"),storageName&&storageEmail?(writeUsName.value=storageName,writeUsEmail.value=storageEmail,writeUsMessage.focus()):storageName?(writeUsName.value=storageName,writeUsEmail.focus()):(storageEmail&&(writeUsEmail.value=storageEmail),writeUsName.focus())}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUsPopup.classList.remove("modal_show"),writeUsPopup.classList.remove("modal_error")}),writeUsForm.addEventListener("submit",function(e){writeUsName.value&&writeUsEmail.value&&writeUsMessage?isStorageSupport&&(localStorage.setItem("login",writeUsName.value),localStorage.setItem("email",writeUsEmail.value)):(e.preventDefault(),writeUsPopup.classList.remove("modal_error"),writeUsPopup.offsetWidth=writeUsPopup.offsetWidth,writeUsPopup.classList.add("modal_error"))});var windowBigMapLink=document.querySelector(".map-section__map-link"),windowBigMapPopup=document.querySelector(".window-big-map"),windowBigMapClose=windowBigMapPopup.querySelector(".modal-close");windowBigMapLink.addEventListener("click",function(e){e.preventDefault(),windowBigMapPopup.classList.add("window-big-map_show")}),windowBigMapClose.addEventListener("click",function(e){e.preventDefault(),windowBigMapPopup.classList.remove("window-big-map_show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(writeUsPopup.classList.contains("modal_show")?(e.preventDefault(),writeUsPopup.classList.remove("modal_show"),writeUsPopup.classList.remove("modal_error")):windowBigMapPopup.classList.contains("window-big-map_show")?(e.preventDefault(),windowBigMapPopup.classList.remove("window-big-map_show")):addToBasketPopup.classList.contains("modal_show")&&(e.preventDefault(),addToBasketPopup.classList.remove("modal_show")))});var addToBasketLinks=document.querySelectorAll(".products-item__basket-btn"),addToBasketClose=(addToBasketPopup=document.querySelector(".add-to-basket")).querySelector(".modal-close"),addToBasketContinue=addToBasketPopup.querySelector(".add-to-basket__continue-btn");function addListenerOnLink(e){e.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.add("modal_show")})}for(var i=0;i<addToBasketLinks.length;i++)addListenerOnLink(addToBasketLinks[i]);addToBasketClose.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.remove("modal_show")}),addToBasketContinue.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.remove("modal_show")})}else if(body.classList.contains("catalog__page")){var addToBasketPopup;addToBasketLinks=document.querySelectorAll(".products-item__basket-btn"),addToBasketClose=(addToBasketPopup=document.querySelector(".add-to-basket")).querySelector(".modal-close"),addToBasketContinue=addToBasketPopup.querySelector(".add-to-basket__continue-btn");function addListenerOnLink(e){e.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.add("modal_show")})}for(i=0;i<addToBasketLinks.length;i++)addListenerOnLink(addToBasketLinks[i]);addToBasketClose.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.remove("modal_show")}),addToBasketContinue.addEventListener("click",function(e){e.preventDefault(),addToBasketPopup.classList.remove("modal_show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&addToBasketPopup.classList.contains("modal_show")&&(e.preventDefault(),addToBasketPopup.classList.remove("modal_show"))})}
